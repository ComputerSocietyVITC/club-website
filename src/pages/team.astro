---
import {useState} from "react";
import TeamCard from "../components/TeamCard.astro";
import TeamCardBig from "../components/TeamCardBig.astro";
import team from "../data/teamdata";
import Layout from "../layout/Layout.astro";
---

<Layout>
  <div class="min-h-screen scale-100 py-36 flex flex-col items-center">
    <h1 class="text-7xl text-white font-bold text-center pb-16">Our Team</h1>
    <div class="w-full max-w-screen-2xl mb-16 px-14">
      <div
        id="team1" class="team-row grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-18 md:gap-x-20 p-4 justify-items-center"
      >
        {
          team
            .slice(0,4)
            .map((teamMember, mem) => (
              <TeamCardBig
                key={teamMember.name}
                name={teamMember.name}
                designation={teamMember.designation}
                imageUrl={teamMember.imageUrl}
                linkUrl={teamMember.linkUrl}
                gitUrl={teamMember.gitUrl}
              />
            ))
        }
            </div>
<div id="team2"
        class="team-row grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-18 md:gap-x-20 p-4 justify-items-center"
      >
        {
          team
            .slice(4,8)
            .map((teamMember, mem) => (
              <TeamCardBig
                key={teamMember.name}
                name={teamMember.name}
                designation={teamMember.designation}
                imageUrl={teamMember.imageUrl}
                linkUrl={teamMember.linkUrl}
                gitUrl={teamMember.gitUrl}
              />
            ))
        }
            </div>
<div id="team3"
        class="team-row grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-18 md:gap-x-20 p-4 justify-items-center"
      >
        {
          team
            .slice(8)
            .map((teamMember, mem) => (
              <TeamCardBig
                key={teamMember.name}
                name={teamMember.name}
                designation={teamMember.designation}
                imageUrl={teamMember.imageUrl}
                linkUrl={teamMember.linkUrl}
                gitUrl={teamMember.gitUrl}
              />
            ))
        }
            </div>
        </div>
<a href="/members">
            <div class="w-96 h-20 bg-white/10 rounded-3xl backdrop-blur-md hover:bg-blue-950 transition-all transition-duration-300 flex flex-row items-center justify-center font">
<img src="/images/team/people.png" class="w-16 h-16 mr-6" />
      <h2 class="text-white text-xl">Members List</h2>
            </div>
        </a>
    </div>
<button id="up-arrow" class="arrow-button absolute right-16 text-white bg-gray-800 py-2 rounded-full">▲</button>
    <button id="down-arrow" class="arrow-button absolute right-16 text-white bg-gray-800 py-2 rounded-full">▼</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const rows = document.querySelectorAll('.team-row');
      let currentIndex = 0;

      const upArrow = document.getElementById('up-arrow');
      const downArrow = document.getElementById('down-arrow');


      function highlightRow(index) {
        rows.forEach((row, i) => {
          if (i === index) {
            row.classList.add('highlight');
                    row.classList.remove('dim');

            row.scrollIntoView({ behavior: 'smooth', block: 'center' });
          } else {
            row.classList.remove('highlight');
            row.classList.add('dim');
          }
        });
      }

      upArrow.addEventListener('click', () => {
        if (currentIndex > 0) {
          currentIndex -= 1;
          highlightRow(currentIndex);
        }
      });

      downArrow.addEventListener('click', () => {
        if (currentIndex < rows.length - 1) {
          currentIndex += 1;
          highlightRow(currentIndex);
        }
      });

      // Initial state
      highlightRow(currentIndex);
    });
  </script>

  <style>
    .arrow-button {
      width: 64px;
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      cursor: pointer;
      transition: opacity 0.3s ease;
    }
    
    .arrow-button:hover {
      background-color: #444;
    }

    .highlight {
      opacity: 1;
      transition: opacity 0.3s ease;
    }

    .dim {
      opacity: 0.3;
      transition: opacity 0.3s ease;
    }

    #up-arrow {
        top: 102%;
      transform: translateY(-50%);
    }

    #down-arrow {
      top: 104%;
      transform: translateY(50%);
    }
  </style>
</Layout>
